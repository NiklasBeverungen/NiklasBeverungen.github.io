/*
 * jquery sliphover 1.1.4
 * apply 2d/3d hover animation to images
 *
 * inspired by http://tympanus.net/TipsTricks/DirectionAwareHoverEffect/index2.html
 * and http://codepen.io/taufnrsyd/pen/ufcdG
 *
 * Author:Wayou
 *
 * Licensed under the MIT license.
 *
 * Bug reporting, suggestion, feature requirments, you can:
 * mail to liuwayong@gmail.com
 * or visit the project on github https://github.com/Wayou/SlipHover to open issues
 */
;(function($,window,document,undefined){'use strict';var H=function(bI,options){this.C=bI,this.options=$.extend({},this.defaults,options)};H.prototype={defaults:{target:'img',title:'title',duration:'fast',fontColor:'#ffffff',backgroundColor:'rgba(0,0,0,.5)',reverse:false,flip:false,autoScroll:true,scrollSpeed:40,height:'100%'},bO:{k:{'left':'0','bottom':'0'},aL:{'left':'0','bottom':'100%'},bE:{'left':'100%','bottom':'0'},aQ:{'left':'0','bottom':'-100%'},bg:{'left':'-100%','bottom':'0'}},j:{bn:{'perspective-origin':'50% 0%','-webkit-perspective-origin':'50% 0%'},al:{'perspective-origin':'100% 50%','-webkit-perspective-origin':'100% 50%'},aO:{'perspective-origin':'50% 100%','-webkit-perspective-origin':'50% 100%'},aD:{'perspective-origin':'0% 50%','-webkit-perspective-origin':'0% 50%'}},be:'@-webkit-keyframes topenter{ 	from{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(-90deg); 	} 	to{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(0deg); 	} } @keyframes topenter{ 	from{ 		transform-origin:top; 		transform:rotateX(-90deg); 	} 	to{ 		transform-origin:top; 		transform:rotateX(0deg); 	} } @-webkit-keyframes topleave{ 	from{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(0deg); 	} 	to{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(-90deg); 	} } @keyframes topleave{ 	from{ 		transform-origin:top; 		transform:rotateX(0deg); 	} 	to{ 		transform-origin:top; 		transform:rotateX(-90deg); 	} }  @-webkit-keyframes rightenter{ 	from{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(-90deg); 	} 	to{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(0deg); 	} } @keyframes rightenter{ 	from{ 		transform-origin:right; 		transform:rotateY(-90deg); 	} 	to{ 		transform-origin:right; 		transform:rotateY(0deg); 	} } @-webkit-keyframes rightleave{ 	from{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(0deg); 	} 	to{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(-90deg); 	} } @keyframes rightleave{ 	from{ 		transform-origin:right; 		transform:rotateY(0deg); 	} 	to{ 		transform-origin:right; 		transform:rotateY(-90deg); 	} }  @-webkit-keyframes bottomenter{ 	from{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(90deg); 	} 	to{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(0deg); 	} } @keyframes bottomenter{ 	from{ 		transform-origin:bottom; 		transform:rotateX(90deg); 	} 	to{ 		transform-origin:bottom; 		transform:rotateX(0deg); 	} } @-webkit-keyframes bottomleave{ 	from{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(0deg); 	} 	to{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(90deg); 	} } @keyframes bottomleave{ 	from{ 		transform-origin:bottom; 		transform:rotateX(0deg); 	} 	to{ 		transform-origin:bottom; 		transform:rotateX(90deg); 	} }  @-webkit-keyframes leftenter{ 	from{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(90deg); 	} 	to{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(0deg); 	} } @keyframes leftenter{ 	from{ 		transform-origin:left; 		transform:rotateY(90deg); 	} 	to{ 		transform-origin:left; 		transform:rotateY(0deg); 	} } @-webkit-keyframes leftleave{ 	from{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(0deg); 	} 	to{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(90deg); 	} } @keyframes leftleave{ 	from{ 		transform-origin:left; 		transform:rotateY(0deg); 	} 	to{ 		transform-origin:left; 		transform:rotateY(90deg); 	} }',bC:function(bI,options){var V=this,C=bI||this.C,options=options||this.options,aE=C.find(options.target).size()>0?C.find(options.target):C;if(this.options.flip){var bq=$('style').length===0?$('<style>'):$('style').first();bq.append(this.be).appendTo('head');};aE.each(function(){var T=V.bk($(this)),t=V.bo(T,options,$(this)),J=t.children(),F=J.height(),bp=t.height();V.aG(T,t,options);if(V.options.autoScroll&&F-bp>0){t.css('overflow','hidden');var scrollTop={top: -(F-bp)},aw={top:0},K=(F-bp)*V.options.scrollSpeed;t.hover(function(){V.bh(J,scrollTop,aw,K);},function(){t.children().stop().css('top','0');})};});return C;},bh:function(C,aS,aP,K){var V=this;C.animate(aS,K,'linear',function(){C.animate(aP,K,'linear',function(){V.bh(C,aS,aP,K);});});},bk:function(G){var bA=G.parents().filter(function(){return this.style.position!=='static';}).length,aq=bA?G.position():G.offset(),bS=G.outerWidth(),aM=G.outerHeight(),borderWidth=(G.outerWidth()-G.innerWidth())/2,bi=aq.top,bK=aq.left,T=$('<div class="sliphoveritem" style="border-radius:'+G.css('borderRadius')+';width:'+bS+'px;height:'+aM+'px;text-align:center;overflow:hidden;position:absolute;top:'+bi+'px;left:'+bK+'px;">').insertBefore(G);if(this.options.flip){T.css({'perspective':'500px','-webkit-perspective':'500px','perspective-origin':'0% 50%','-webkit-perspective-origin':'0% 50%'});};var browser=this.aZ();if(browser.v&&browser.version<=10){T.css('background-color','rgba(255,255,255,0.1)');};return T;},bo:function(T,options,G){var t=$('<div class="sliphoveritemTitle" style="border-radius:'+G.css('borderRadius')+';width:100%;height:'+this.options.height+';box-sizing:border-box;-moz-box-sizing:border-box;padding:5px;overflow:auto;position:absolute;color:'+this.options.fontColor+';background-color:'+this.options.backgroundColor+';">').html('<div style="position:relative;width:100%;">'+G.attr(options.title)+'</div>'),J=t.children();if(this.options.flip){t.css({'left':'0','bottom':'0','transform-origin':'left','transform':'rotateY(90deg)','-webkit-transform-origin':'left','-webkit-transform':'rotateY(90deg)','backface-visibility':'hidden','-webkit-backface-visibility':'hidden'});}else{t.css(this.bO.bg);};T.html(t);if(J.height()<t.height()){J.css({'width':J.width(),'height':t.height(),'display':'table-cell','vertical-align':'middle','text-align':'center'});};return t;},R:function(ax,az,T,t){var duration=this.options.duration;switch(duration){case 'fast':duration='200ms';break;case 'slow':duration='600ms';break;default:duration=duration+'ms';break;};T.css(ax);t.css({'animation':az+' '+duration+' forwards','-webkit-animation':az+' '+duration+' forwards'});},ag:function(G,event){var w=G.width(),O=G.height(),x=(event.pageX-G.offset().left-(w/2))*(w>O?(O/w):1),y=(event.pageY-G.offset().top-(O/2))*(O>w?(w/O):1),direction=Math.round((((Math.atan2(y,x)*(180/Math.PI))+180)/90)+3)%4;return direction;},aG:function(G,t,options){var V=this;G.unbind('mouseenter.sliphover mouseleave.sliphover').bind('mouseenter.sliphover mouseleave.sliphover',function(e){var L=e.type,direction=V.ag(G,e);V.am(L,direction,G,t,options,V.bO);});},am:function(L,direction,T,t,options,l){if(options.reverse){direction=(direction+2)%4};switch(direction){case 0:if(L=='mouseenter'){if(options.flip){this.R(this.j.bn,'topenter',T,t);}else{t.css(l.aL);t.stop().animate(l.k,options.duration);};}else{if(options.flip){this.R(this.j.bn,'topleave',T,t);}else{t.stop().animate(l.aL,options.duration);};}break;case 1:if(L=='mouseenter'){if(options.flip){this.R(this.j.al,'rightenter',T,t);}else{t.css(l.bE);t.stop().animate(l.k,options.duration);};}else{if(options.flip){this.R(this.j.al,'rightleave',T,t);}else{t.stop().animate(l.bE,options.duration);};}break;case 2:if(L=='mouseenter'){if(options.flip){this.R(this.j.aO,'bottomenter',T,t);}else{t.css(l.aQ);t.stop().animate(l.k,options.duration);};}else{if(options.flip){this.R(this.j.aO,'bottomleave',T,t);}else{t.stop().animate(l.aQ,options.duration);};}break;case 3:if(L=='mouseenter'){if(options.flip){this.R(this.j.aD,'leftenter',T,t);}else{t.css(l.bg);t.stop().animate(l.k,options.duration);};}else{if(options.flip){this.R(this.j.aD,'leftleave',T,t);}else{t.stop().animate(l.bg,options.duration);};}break;default:throw new Error('failed to get the direction.');}},aZ:function(){var version=999,v=false;if(navigator.appVersion.indexOf("MSIE")!= -1){v=true;version=parseFloat(navigator.appVersion.split("MSIE")[1]);}return{v:v,version:version};}};H.constructor=H;$.fn.sliphover=function(options){var entry=$.data(this,'sliphover');if(!entry){entry=new H(this,options);entry.bC();$.data(this,'sliphover',entry);}else{entry.bC(this,options);}$(window).unbind('resize.sliphover').bind('resize.sliphover',function(){$('.sliphoveritem').remove();entry.bC();});return entry;};}(jQuery,window,document));